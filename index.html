<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wellness Assessment - Transform Your Health Journey</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        .question-card {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn:hover {
            transform: scale(1.02);
        }
        .option-btn.selected {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            transform: scale(1.02);
        }
        .progress-bar {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            transition: width 0.5s ease;
        }
        .floating-action {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .wellness-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .scale-indicator {
            background: linear-gradient(90deg, #ff4444, #ffaa00, #4CAF50);
            height: 8px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .discovery-btn {
            background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
            color: white !important;
            border: none !important;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .discovery-btn:hover {
            background: linear-gradient(135deg, #b91c1c, #991b1b) !important;
            color: white !important;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    
    <!-- Header -->
    <header class="hero-gradient text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">
                <i class="fas fa-heart text-red-400"></i> Wellness Assessment
            </h1>
            <p class="text-xl md:text-2xl opacity-90 mb-6">Discover Your Path to Optimal Health & Vitality</p>
            <div class="max-w-3xl mx-auto text-lg opacity-80">
                <p>Based on the LPHC 2020 10-Step Root Cause Analysis Process</p>
                <p class="mt-2">âœ¨ Get personalized insights â€¢ ðŸŽ¯ Identify key health priorities â€¢ ðŸ“ˆ Track your wellness journey</p>
            </div>
        </div>
    </header>

    <!-- Main Assessment Container -->
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- Progress Bar -->
        <div id="progressContainer" class="mb-8 hidden">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-medium text-gray-600">Assessment Progress</span>
                <span id="progressText" class="text-sm font-medium text-gray-600">0 of 8 questions</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
                <div id="progressBar" class="progress-bar h-3 rounded-full" style="width: 0%"></div>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="wellness-card rounded-2xl shadow-xl p-8 mb-8">
            <div class="text-center">
                <div class="text-6xl mb-6">ðŸŒŸ</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Welcome to Your Wellness Journey</h2>
                <p class="text-lg text-gray-600 mb-6 max-w-2xl mx-auto">
                    This comprehensive assessment uses the proven LPHC methodology to evaluate your current wellness state 
                    across 8 key health dimensions. Your responses will help create a personalized roadmap to optimal health.
                </p>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <i class="fas fa-clock text-blue-500 text-2xl mb-2"></i>
                        <h3 class="font-semibold text-gray-800">Quick & Easy</h3>
                        <p class="text-gray-600 text-sm">Takes only 5-7 minutes to complete</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <i class="fas fa-chart-line text-green-500 text-2xl mb-2"></i>
                        <h3 class="font-semibold text-gray-800">Personalized Results</h3>
                        <p class="text-gray-600 text-sm">Get your custom wellness report instantly</p>
                    </div>
                </div>

                <button id="startBtn" class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                    <i class="fas fa-play mr-2"></i>
                    Start Your Assessment
                </button>
            </div>
        </div>

        <!-- Contact Information Form -->
        <div id="contactForm" class="wellness-card rounded-2xl shadow-xl p-8 mb-8 hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                <i class="fas fa-user-circle text-blue-500 mr-2"></i>
                Let's Get Started
            </h2>
            <p class="text-center text-gray-600 mb-8">We'll need some basic information to personalize your wellness report</p>
            
            <form id="contactFormData" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-user mr-1"></i>Full Name *
                        </label>
                        <input type="text" id="name" name="name" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-envelope mr-1"></i>Email Address *
                        </label>
                        <input type="email" id="email" name="email" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                    </div>
                </div>
                
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-phone mr-1"></i>Phone Number
                    </label>
                    <input type="tel" id="phone" name="phone" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                </div>
                
                <div class="text-center">
                    <button type="button" id="continueBtn"
                            class="bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg">
                        <i class="fas fa-arrow-right mr-2"></i>
                        Continue to Assessment
                    </button>
                </div>
            </form>
        </div>

        <!-- Questions Container -->
        <div id="questionsContainer" class="hidden">
            <!-- Questions will be dynamically generated here -->
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="wellness-card rounded-2xl shadow-xl p-8 mb-8 hidden">
            <div class="text-center mb-8">
                <div class="text-6xl mb-4">ðŸŽ‰</div>
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Your Wellness Assessment Complete!</h2>
                <p class="text-lg text-gray-600">Thank you for taking the time to invest in your health journey.</p>
            </div>

            <div id="resultsContent" class="mb-8">
                <!-- Results will be populated here -->
            </div>

            <div class="text-center space-y-4">
                <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl p-6 mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-2">
                        <i class="fas fa-gift text-yellow-500 mr-2"></i>
                        Ready to Transform Your Health?
                    </h3>
                    <p class="text-gray-700 mb-4">
                        Claim your complimentary Discovery Session to create your personalized wellness transformation plan!
                    </p>
                    <button id="discoveryBtn"
                            class="discovery-btn font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg animate-pulse">
                        <i class="fas fa-calendar-check mr-2"></i>
                        Claim My FREE Discovery Session
                    </button>
                </div>

                <div class="text-sm text-gray-600">
                    <p><i class="fas fa-shield-alt text-green-500 mr-1"></i> Your information is secure and will never be shared</p>
                    <p><i class="fas fa-envelope text-blue-500 mr-1"></i> Check your email for your detailed wellness report</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <div class="floating-action hidden" id="whatsappFloat">
        <a href="https://wa.me/447508117864?text=Hi%20David,%20I%20just%20completed%20the%20wellness%20assessment%20and%20would%20like%20to%20discuss%20my%20results." 
           target="_blank" 
           class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 flex items-center justify-center">
            <i class="fab fa-whatsapp text-2xl"></i>
        </a>
    </div>

    <script>
        // Configuration
        const CONFIG = {
            scriptURL: 'https://script.google.com/a/macros/fuelgeist.co.uk/s/AKfycbwA0YhIj6pJfUjLYxAfdVERlbYIt9hhxttEFQpVWF_YJ0rA9slNfC7s9Ffz01o0kMfL/exec',
            calendlyURL: 'https://calendly.com/fuelgeist1/your-free-discovery-session',
            whatsappNumber: '447508117864',
            practitionerEmail: 'david@fuelgeist.co.uk'
        };

        };

        // Assessment Questions based on LPHC Methodology
        const QUESTIONS = [
            {
                id: 1,
                category: "Physical Energy",
                question: "How would you rate your overall energy levels throughout the day?",
                description: "Consider your energy from morning to evening, including any dips or crashes",
                options: [
                    { value: 10, label: "Excellent - Consistent high energy all day" },
                    { value: 8, label: "Good - Generally energetic with minor dips" },
                    { value: 6, label: "Moderate - Energy varies, some afternoon crashes" },
                    { value: 4, label: "Low - Often tired, need stimulants to function" },
                    { value: 2, label: "Very Low - Exhausted most of the time" },
                    { value: 0, label: "Extremely Low - Constant fatigue affects daily life" }
                ]
            },
            {
                id: 2,
                category: "Sleep Quality",
                question: "How well do you sleep and feel rested upon waking?",
                description: "Rate both your sleep quality and how refreshed you feel in the morning",
                options: [
                    { value: 10, label: "Excellent - Fall asleep easily, sleep deeply, wake refreshed" },
                    { value: 8, label: "Good - Generally sleep well with occasional issues" },
                    { value: 6, label: "Moderate - Sometimes struggle with sleep or morning fatigue" },
                    { value: 4, label: "Poor - Frequently have sleep issues or wake tired" },
                    { value: 2, label: "Very Poor - Regular insomnia or never feel rested" },
                    { value: 0, label: "Extremely Poor - Severe sleep disorders affecting life" }
                ]
            },
            {
                id: 3,
                category: "Digestive Health",
                question: "How would you describe your digestive health and comfort?",
                description: "Consider bloating, regularity, food sensitivities, and overall gut comfort",
                options: [
                    { value: 10, label: "Excellent - Perfect digestion, no discomfort or issues" },
                    { value: 8, label: "Good - Minor occasional digestive issues" },
                    { value: 6, label: "Moderate - Regular mild bloating or irregularity" },
                    { value: 4, label: "Poor - Frequent digestive discomfort or food sensitivities" },
                    { value: 2, label: "Very Poor - Daily digestive problems affecting quality of life" },
                    { value: 0, label: "Extremely Poor - Severe digestive disorders requiring medical care" }
                ]
            },
            {
                id: 4,
                category: "Mental Clarity",
                question: "How clear is your thinking and mental focus throughout the day?",
                description: "Rate your cognitive function, concentration, and mental sharpness",
                options: [
                    { value: 10, label: "Excellent - Sharp focus, clear thinking, excellent memory" },
                    { value: 8, label: "Good - Generally focused with minor brain fog occasionally" },
                    { value: 6, label: "Moderate - Some difficulty concentrating, occasional forgetfulness" },
                    { value: 4, label: "Poor - Regular brain fog, difficulty focusing on tasks" },
                    { value: 2, label: "Very Poor - Constant mental cloudiness affecting work/life" },
                    { value: 0, label: "Extremely Poor - Severe cognitive issues requiring support" }
                ]
            },
            {
                id: 5,
                category: "Emotional Well-being",
                question: "How stable and positive is your emotional state day-to-day?",
                description: "Consider mood stability, stress resilience, and overall emotional balance",
                options: [
                    { value: 10, label: "Excellent - Consistently positive, emotionally resilient" },
                    { value: 8, label: "Good - Generally positive with good stress management" },
                    { value: 6, label: "Moderate - Mood varies, some stress affects emotional state" },
                    { value: 4, label: "Poor - Frequent mood swings or negative emotional states" },
                    { value: 2, label: "Very Poor - Regular anxiety, depression, or emotional instability" },
                    { value: 0, label: "Extremely Poor - Severe emotional distress affecting all areas" }
                ]
            },
            {
                id: 6,
                category: "Physical Fitness",
                question: "How would you rate your physical strength, flexibility, and endurance?",
                description: "Consider your overall fitness level and physical capabilities",
                options: [
                    { value: 10, label: "Excellent - Very fit, strong, flexible, great endurance" },
                    { value: 8, label: "Good - Generally fit with regular exercise routine" },
                    { value: 6, label: "Moderate - Some fitness but could improve strength/endurance" },
                    { value: 4, label: "Poor - Limited fitness, get winded easily, weak muscles" },
                    { value: 2, label: "Very Poor - Very unfit, struggle with basic physical activities" },
                    { value: 0, label: "Extremely Poor - Severe physical limitations or disabilities" }
                ]
            },
            {
                id: 7,
                category: "Stress Management",
                question: "How well do you handle stress and maintain work-life balance?",
                description: "Rate your ability to manage stress and maintain equilibrium in your life",
                options: [
                    { value: 10, label: "Excellent - Handle stress very well, great work-life balance" },
                    { value: 8, label: "Good - Manage stress effectively most of the time" },
                    { value: 6, label: "Moderate - Stress sometimes overwhelms, balance could improve" },
                    { value: 4, label: "Poor - Often stressed, poor work-life balance" },
                    { value: 2, label: "Very Poor - Constantly overwhelmed, stress affects health" },
                    { value: 0, label: "Extremely Poor - Chronic stress severely impacting life" }
                ]
            },
            {
                id: 8,
                category: "Life Satisfaction",
                question: "How satisfied are you with your overall quality of life and health?",
                description: "Consider your general life satisfaction, health goals, and sense of vitality",
                options: [
                    { value: 10, label: "Excellent - Very satisfied, feel vibrant and fulfilled" },
                    { value: 8, label: "Good - Generally satisfied with minor areas to improve" },
                    { value: 6, label: "Moderate - Satisfied but know significant improvements needed" },
                    { value: 4, label: "Poor - Often dissatisfied, health issues limit enjoyment" },
                    { value: 2, label: "Very Poor - Rarely satisfied, health significantly impacts life" },
                    { value: 0, label: "Extremely Poor - Very dissatisfied, health severely limits life" }
                ]
            }
        ];

        // State Management
        let currentQuestion = 0;
        let responses = {};
        let contactInfo = {};

        // Utility Functions
        function updateProgress() {
            const progress = Math.round((currentQuestion / QUESTIONS.length) * 100);
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            if (progressBar && progressText) {
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${currentQuestion} of ${QUESTIONS.length} questions`;
            }
        }

        function startAssessment() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('contactForm').classList.remove('hidden');
        }

        function proceedToQuestions() {
            // Validate contact form
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            
            if (!name || !email) {
                alert('Please fill in your name and email address.');
                return;
            }
            
            if (!isValidEmail(email)) {
                alert('Please enter a valid email address.');
                return;
            }

            // Store contact information
            contactInfo = {
                name: name,
                email: email,
                phone: document.getElementById('phone').value.trim() || ''
            };

            // Hide contact form and show questions
            document.getElementById('contactForm').classList.add('hidden');
            document.getElementById('progressContainer').classList.remove('hidden');
            document.getElementById('questionsContainer').classList.remove('hidden');
            document.getElementById('whatsappFloat').classList.remove('hidden');
            
            renderQuestion();
        }

        function isValidEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function renderQuestion() {
            const question = QUESTIONS[currentQuestion];
            const container = document.getElementById('questionsContainer');
            
            container.innerHTML = `
                <div class="question-card rounded-2xl shadow-xl p-8 text-white mb-8">
                    <div class="text-center mb-6">
                        <div class="text-sm opacity-75 mb-2">QUESTION ${currentQuestion + 1} OF ${QUESTIONS.length}</div>
                        <div class="text-sm font-semibold text-yellow-300 mb-4">${question.category.toUpperCase()}</div>
                        <h2 class="text-2xl md:text-3xl font-bold mb-4">${question.question}</h2>
                        <p class="text-lg opacity-90">${question.description}</p>
                    </div>

                    <div class="mb-6">
                        <div class="text-center text-sm opacity-75 mb-2">SUD Scale: Rate from 0 (Extremely Poor) to 10 (Excellent)</div>
                        <div class="scale-indicator mb-4"></div>
                    </div>

                    <div class="space-y-3">
                        ${question.options.map(option => `
                            <button onclick="selectAnswer(${option.value})" 
                                    class="option-btn w-full text-left p-4 bg-white bg-opacity-10 hover:bg-opacity-20 rounded-xl border border-white border-opacity-20 transition-all duration-200"
                                    data-value="${option.value}">
                                <div class="flex items-center justify-between">
                                    <span class="text-lg">${option.label}</span>
                                    <div class="w-8 h-8 rounded-full border-2 border-white flex items-center justify-center font-bold">
                                        ${option.value}
                                    </div>
                                </div>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
            
            updateProgress();
        }

        function selectAnswer(value) {
            // Store response
            const question = QUESTIONS[currentQuestion];
            responses[question.id] = {
                category: question.category,
                question: question.question,
                value: value,
                timestamp: new Date().toISOString()
            };

            // Visual feedback
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelector(`[data-value="${value}"]`).classList.add('selected');

            // Auto-advance after selection
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < QUESTIONS.length) {
                    renderQuestion();
                } else {
                    showResults();
                }
            }, 500);
        }

        function showResults() {
            document.getElementById('questionsContainer').classList.add('hidden');
            document.getElementById('progressContainer').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');

            // Calculate results
            const results = calculateResults();
            displayResults(results);

            // Submit to Google Sheets
            submitToGoogleSheets(results);
        }

        function calculateResults() {
            const totalScore = Object.values(responses).reduce((sum, response) => sum + response.value, 0);
            const maxScore = QUESTIONS.length * 10;
            const percentage = Math.round((totalScore / maxScore) * 100);
            
            const categoryScores = {};
            Object.values(responses).forEach(response => {
                categoryScores[response.category] = response.value;
            });

            // Determine wellness level
            let wellnessLevel, color, recommendations;
            if (percentage >= 80) {
                wellnessLevel = "Excellent";
                color = "text-green-600";
                recommendations = "You're doing great! Focus on maintaining your current healthy habits and consider optimizing any remaining areas.";
            } else if (percentage >= 60) {
                wellnessLevel = "Good";
                color = "text-blue-600";
                recommendations = "You have a solid foundation. Let's identify and improve the key areas that will have the biggest impact on your wellness.";
            } else if (percentage >= 40) {
                wellnessLevel = "Moderate";
                color = "text-yellow-600";
                recommendations = "There are several areas where focused improvement could significantly enhance your quality of life and health.";
            } else {
                wellnessLevel = "Needs Attention";
                color = "text-red-600";
                recommendations = "Your wellness could benefit from comprehensive support. A structured approach to improvement will be most beneficial.";
            }

            return {
                totalScore,
                maxScore,
                percentage,
                categoryScores,
                wellnessLevel,
                color,
                recommendations,
                timestamp: new Date().toISOString()
            };
        }

        function displayResults(results) {
            const container = document.getElementById('resultsContent');
            
            container.innerHTML = `
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ðŸ“Š</div>
                    <h3 class="text-2xl font-bold ${results.color} mb-2">
                        Overall Wellness Score: ${results.percentage}%
                    </h3>
                    <p class="text-lg font-semibold text-gray-700">Wellness Level: ${results.wellnessLevel}</p>
                    <p class="text-gray-600 mt-4 max-w-2xl mx-auto">${results.recommendations}</p>
                </div>

                <div class="grid md:grid-cols-2 gap-4 mb-8">
                    ${Object.entries(results.categoryScores).map(([category, score]) => `
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <div class="flex justify-between items-center">
                                <span class="font-medium text-gray-700">${category}</span>
                                <span class="font-bold ${score >= 8 ? 'text-green-600' : score >= 6 ? 'text-yellow-600' : 'text-red-600'}">
                                    ${score}/10
                                </span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                                <div class="h-2 rounded-full ${score >= 8 ? 'bg-green-500' : score >= 6 ? 'bg-yellow-500' : 'bg-red-500'}" 
                                     style="width: ${score * 10}%"></div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <div class="bg-blue-50 border border-blue-200 rounded-xl p-6">
                    <h4 class="font-bold text-gray-800 mb-2">
                        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                        What's Next?
                    </h4>
                    <p class="text-gray-700">
                        Your personalized wellness report has been sent to your email. 
                        Schedule a complimentary Discovery Session to dive deeper into your results 
                        and create a customized action plan for your wellness transformation.
                    </p>
                </div>
            `;
        }

        async function submitToGoogleSheets(results) {
            // Create proper form data with individual category scores
            const formData = new URLSearchParams();
            
            // Add basic info
            formData.append('timestamp', new Date().toISOString());
            formData.append('name', contactInfo.name);
            formData.append('email', contactInfo.email);
            formData.append('phone', contactInfo.phone);
            formData.append('totalScore', results.totalScore);
            formData.append('percentage', results.percentage);
            formData.append('wellnessLevel', results.wellnessLevel);
            
            // Add individual category scores
            formData.append('Physical Energy', results.categoryScores['Physical Energy'] || 0);
            formData.append('Sleep Quality', results.categoryScores['Sleep Quality'] || 0);
            formData.append('Digestive Health', results.categoryScores['Digestive Health'] || 0);
            formData.append('Mental Clarity', results.categoryScores['Mental Clarity'] || 0);
            formData.append('Emotional Well-being', results.categoryScores['Emotional Well-being'] || 0);
            formData.append('Physical Fitness', results.categoryScores['Physical Fitness'] || 0);
            formData.append('Stress Management', results.categoryScores['Stress Management'] || 0);
            formData.append('Life Satisfaction', results.categoryScores['Life Satisfaction'] || 0);
            
            formData.append('emailSent', 'Pending');
            formData.append('appointmentBooked', 'No');
            
            try {
                const response = await fetch(CONFIG.scriptURL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: formData.toString()
                });
                
                console.log('Data submitted successfully');
                
            } catch (error) {
                console.error('Error submitting data:', error);
            }
        }

        async function bookDiscoverySession() {
            // Update spreadsheet to mark appointment as booked
            try {
                const updateData = new URLSearchParams();
                updateData.append('email', contactInfo.email);
                updateData.append('appointmentBooked', 'Yes');
                updateData.append('bookingTimestamp', new Date().toISOString());
                
                await fetch(`${CONFIG.scriptURL}?${updateData.toString()}`, {
                    method: 'GET',
                    mode: 'no-cors'
                });
                
            } catch (error) {
                console.error('Error updating booking status:', error);
            }
            
            // Redirect to Calendly
            window.location.href = CONFIG.calendlyURL;
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Start button
            const startBtn = document.getElementById('startBtn');
            if (startBtn) {
                startBtn.addEventListener('click', startAssessment);
            }

            // Continue button
            const continueBtn = document.getElementById('continueBtn');
            if (continueBtn) {
                continueBtn.addEventListener('click', proceedToQuestions);
            }

            // Discovery button
            const discoveryBtn = document.getElementById('discoveryBtn');
            if (discoveryBtn) {
                discoveryBtn.addEventListener('click', bookDiscoverySession);
            }

            console.log('Wellness Assessment loaded successfully');
        });
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"96cea7e62be1d275","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.7.0","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDlUgaNM6zIW5Cek2KJVerk0VBgr2Jq7i%2Fqzm2opUSPXhmuNu%2BqxslzxhzY347%2BTQpfLM8ap62sT81sPgVsFQ5GnYjBFwMJggTT3eMSELdLLKVWDBhYbFbZTKXeSRBMHXtHZAILjMhHV4Ky%2F4skVXz8qISWqPl45tltL7%2B%2BTwsCXIGtGArctIshSNFXqiLV%2BJDsTo0f5BYyf2iPvBspVIDxDblO1qIUWEAf5CtxhQy%2BIzUDM%2F1D5h7x6QIRj55w3Lyh%2FgXezU3XKHo3EeAN0Jgd1fvYVqv%2FQ9Zx160zWFB7HTqFsSj75bF8SkZlKyGEhp7FPH2iagwdTiXb47cciiCQi%2BzN3U%2F7qJB1XIxYSTGGp4Opo3l9KUOWsS3FdUAftmClnENsLUeKmaBq7VVQXMAIcGtp84Ahb%2Bt%2F1vPAXuMlNbr1dsc6Rd0vnqhPGmeBbcUrE3SxBn4bhH%2BchZ5mwx%2FeItHZ38ntFQdj44haWvGOm49oG2c%2BGJP5uuyXlNwtS8YYkX1p1nJmegbsUeVX3dnw0%3D";
        window.__genspark_locale = "en-US";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDlUgaNM6zIW5Cek2KJVerk0VBgr2Jq7i/qzm2opUSPXhmuNu+qxslzxhzY347+TQpfLM8ap62sT81sPgVsFQ5GnYjBFwMJggTT3eMSELdLLKVWDBhYbFbZTKXeSRBMHXtHZAILjMhHV4Ky/4skVXz8qISWqPl45tltL7++TwsCXIGtGArctIshSNFXqiLV+JDsTo0f5BYyf2iPvBspVIDxDblO1qIUWEAf5CtxhQy+IzUDM/1D5h7x6QIRj55w3Lyh/gXezU3XKHo3EeAN0Jgd1fvYVqv/Q9Zx160zWFB7HTqFsSj75bF8SkZlKyGEhp7FPH2iagwdTiXb47cciiCQi+zN3U/7qJB1XIxYSTGGp4Opo3l9KUOWsS3FdUAftmClnENsLUeKmaBq7VVQXMAIcGtp84Ahb+t/1vPAXuMlNbr1dsc6Rd0vnqhPGmeBbcUrE3SxBn4bhH+chZ5mwx/eItHZ38ntFQdj44haWvGOm49oG2c+GJP5uuyXlNwtS8YYkX1p1nJmegbsUeVX3dnw0=";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    
