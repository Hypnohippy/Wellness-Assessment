<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Wellness Assessment - Discover Your Health Score</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        .radio-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .radio-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .radio-option input[type="radio"]:checked + .radio-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold text-gray-800 mb-4">
                <i class="fas fa-heartbeat text-red-500 mr-3"></i>
                Wellness Assessment
            </h1>
            <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                Discover your personal wellness score and get customized recommendations for optimal health and vitality.
            </p>
        </div>

        <!-- Assessment Form -->
        <div id="assessmentForm" class="glass-card p-8 mb-8">
            <!-- Progress Bar -->
            <div class="mb-8">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-gray-700">Progress</span>
                    <span id="progressText" class="text-sm font-medium text-gray-700">Question 1 of 8</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progressBar" class="h-3 rounded-full btn-primary" style="width: 12.5%"></div>
                </div>
            </div>

            <!-- Questions -->
            <div id="questionsContainer">
                <!-- Question 1: Energy -->
                <div class="question-slide" data-question="1">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-bolt text-yellow-500 mr-3"></i>
                        How would you rate your energy levels throughout the day?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(1, 1)">
                            <input type="radio" name="energy" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Very Low Energy</div>
                                <div class="text-sm text-gray-600">Constantly tired, need multiple naps</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(1, 3)">
                            <input type="radio" name="energy" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Low Energy</div>
                                <div class="text-sm text-gray-600">Often feel sluggish, afternoon crashes</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(1, 5)">
                            <input type="radio" name="energy" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Moderate Energy</div>
                                <div class="text-sm text-gray-600">Decent energy most of the time</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(1, 8)">
                            <input type="radio" name="energy" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">High Energy</div>
                                <div class="text-sm text-gray-600">Feel energetic and vibrant most days</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 2: Sleep -->
                <div class="question-slide hidden" data-question="2">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-bed text-blue-500 mr-3"></i>
                        How is your sleep quality?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(2, 1)">
                            <input type="radio" name="sleep" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Very Poor Sleep</div>
                                <div class="text-sm text-gray-600">Frequent insomnia, wake up tired</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(2, 3)">
                            <input type="radio" name="sleep" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Poor Sleep</div>
                                <div class="text-sm text-gray-600">Trouble falling asleep or staying asleep</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(2, 5)">
                            <input type="radio" name="sleep" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Fair Sleep</div>
                                <div class="text-sm text-gray-600">Sleep okay most nights</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(2, 8)">
                            <input type="radio" name="sleep" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Excellent Sleep</div>
                                <div class="text-sm text-gray-600">Fall asleep easily, wake up refreshed</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 3: Stress -->
                <div class="question-slide hidden" data-question="3">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-brain text-purple-500 mr-3"></i>
                        How well do you manage stress?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(3, 1)">
                            <input type="radio" name="stress" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Overwhelmed</div>
                                <div class="text-sm text-gray-600">Constantly stressed and anxious</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(3, 3)">
                            <input type="radio" name="stress" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">High Stress</div>
                                <div class="text-sm text-gray-600">Often feel stressed and worried</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(3, 5)">
                            <input type="radio" name="stress" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Moderate Stress</div>
                                <div class="text-sm text-gray-600">Some stress but manageable</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(3, 8)">
                            <input type="radio" name="stress" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Well Managed</div>
                                <div class="text-sm text-gray-600">Feel calm and in control most of the time</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 4: Physical Health -->
                <div class="question-slide hidden" data-question="4">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-heartbeat text-red-500 mr-3"></i>
                        How is your physical health?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(4, 1)">
                            <input type="radio" name="physical" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Poor Health</div>
                                <div class="text-sm text-gray-600">Multiple health issues, frequent illness</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(4, 3)">
                            <input type="radio" name="physical" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Below Average</div>
                                <div class="text-sm text-gray-600">Some ongoing health concerns</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(4, 5)">
                            <input type="radio" name="physical" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Average Health</div>
                                <div class="text-sm text-gray-600">Generally healthy with minor issues</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(4, 8)">
                            <input type="radio" name="physical" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Excellent Health</div>
                                <div class="text-sm text-gray-600">Feel strong, healthy, and vibrant</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 5: Mood -->
                <div class="question-slide hidden" data-question="5">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-smile text-green-500 mr-3"></i>
                        How is your mental and emotional wellbeing?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(5, 1)">
                            <input type="radio" name="mood" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Struggling</div>
                                <div class="text-sm text-gray-600">Often sad, anxious, or depressed</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(5, 3)">
                            <input type="radio" name="mood" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Below Average</div>
                                <div class="text-sm text-gray-600">Mood swings, some emotional difficulties</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(5, 5)">
                            <input type="radio" name="mood" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Good</div>
                                <div class="text-sm text-gray-600">Generally positive and stable</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(5, 8)">
                            <input type="radio" name="mood" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Excellent</div>
                                <div class="text-sm text-gray-600">Feel happy, balanced, and emotionally strong</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 6: Weight -->
                <div class="question-slide hidden" data-question="6">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-weight text-orange-500 mr-3"></i>
                        How satisfied are you with your weight and body composition?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(6, 1)">
                            <input type="radio" name="weight" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Very Dissatisfied</div>
                                <div class="text-sm text-gray-600">Significant weight or body image concerns</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(6, 3)">
                            <input type="radio" name="weight" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Somewhat Dissatisfied</div>
                                <div class="text-sm text-gray-600">Would like to lose or gain weight</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(6, 5)">
                            <input type="radio" name="weight" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Neutral</div>
                                <div class="text-sm text-gray-600">Weight is okay, some minor concerns</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(6, 8)">
                            <input type="radio" name="weight" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Very Satisfied</div>
                                <div class="text-sm text-gray-600">Happy with body weight and composition</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 7: Exercise -->
                <div class="question-slide hidden" data-question="7">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-running text-indigo-500 mr-3"></i>
                        How often do you exercise or engage in physical activity?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(7, 1)">
                            <input type="radio" name="exercise" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Rarely/Never</div>
                                <div class="text-sm text-gray-600">Sedentary lifestyle, no regular exercise</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(7, 3)">
                            <input type="radio" name="exercise" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Occasionally</div>
                                <div class="text-sm text-gray-600">Exercise 1-2 times per week</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(7, 5)">
                            <input type="radio" name="exercise" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Regularly</div>
                                <div class="text-sm text-gray-600">Exercise 3-4 times per week</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(7, 8)">
                            <input type="radio" name="exercise" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Very Active</div>
                                <div class="text-sm text-gray-600">Exercise 5+ times per week, very active lifestyle</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question 8: Overall Health -->
                <div class="question-slide hidden" data-question="8">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-heart text-pink-500 mr-3"></i>
                        Overall, how would you rate your health and vitality?
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="radio-option" onclick="selectAnswer(8, 1)">
                            <input type="radio" name="overall" value="1" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Poor</div>
                                <div class="text-sm text-gray-600">Feel unwell most of the time</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(8, 3)">
                            <input type="radio" name="overall" value="3" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Below Average</div>
                                <div class="text-sm text-gray-600">Health could be much better</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(8, 5)">
                            <input type="radio" name="overall" value="5" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Good</div>
                                <div class="text-sm text-gray-600">Generally healthy and well</div>
                            </div>
                        </div>
                        <div class="radio-option" onclick="selectAnswer(8, 8)">
                            <input type="radio" name="overall" value="8" class="hidden">
                            <div class="radio-content p-4 border-2 border-gray-200 rounded-lg">
                                <div class="font-semibold">Excellent</div>
                                <div class="text-sm text-gray-600">Feel amazing, full of life and vitality</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email Form -->
                <div id="emailForm" class="question-slide hidden" data-question="9">
                    <h3 class="text-2xl font-semibold mb-6 text-gray-800">
                        <i class="fas fa-envelope text-blue-500 mr-3"></i>
                        Get Your Personalized Wellness Plan
                    </h3>
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                        <p class="text-blue-800">
                            <i class="fas fa-info-circle mr-2"></i>
                            Enter your details to receive your personalized wellness recommendations and transformation roadmap.
                        </p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Full Name *
                            </label>
                            <input type="text" id="fullName" required
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Email Address *
                            </label>
                            <input type="email" id="emailAddress" required
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Phone Number (Optional)
                            </label>
                            <input type="tel" id="phoneNumber"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Primary Health Concern (Optional)
                            </label>
                            <input type="text" id="healthConcern"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                    </div>
                    <div class="mt-6">
                        <label class="flex items-center">
                            <input type="checkbox" id="emailConsent" required
                                class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <span class="ml-2 text-sm text-gray-600">
                                I agree to receive my personalized wellness plan and occasional health tips via email. *
                            </span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="flex justify-between items-center mt-8">
                <button id="prevBtn" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-semibold hidden" onclick="prevQuestion()">
                    <i class="fas fa-chevron-left mr-2"></i>Previous
                </button>
                <button id="nextBtn" class="px-6 py-3 btn-primary text-white rounded-lg font-semibold" onclick="nextQuestion()">
                    Next<i class="fas fa-chevron-right ml-2"></i>
                </button>
                <button id="submitBtn" class="px-8 py-3 btn-primary text-white rounded-lg font-semibold hidden" onclick="submitAssessment()">
                    <i class="fas fa-paper-plane mr-2"></i>Get My Wellness Plan
                </button>
            </div>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="glass-card p-8 hidden">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">
                    <i class="fas fa-chart-line text-purple-600 mr-3"></i>
                    Your Wellness Assessment Results
                </h2>
                
                <!-- Score Display -->
                <div class="mb-8">
                    <div id="scoreCircle" class="score-circle mx-auto mb-4">
                        <span id="totalScore">0</span><span class="text-2xl">/64</span>
                    </div>
                    <h3 id="scoreLevel" class="text-2xl font-semibold mb-2">Your Wellness Level</h3>
                    <p id="scoreDescription" class="text-lg text-gray-600"></p>
                </div>

                <!-- Detailed Breakdown -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold mb-4 text-gray-800">Your Health Categories</h4>
                        <div id="categoryBreakdown" class="space-y-3"></div>
                    </div>
                    <div class="bg-white p-6 rounded-lg border border-gray-200">
                        <h4 class="text-xl font-semibold mb-4 text-gray-800">Transformation Opportunities</h4>
                        <div id="opportunities" class="space-y-3"></div>
                    </div>
                </div>

                <!-- Call to Action -->
                <div class="bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-lg">
                    <h3 class="text-2xl font-bold mb-4">Ready to Transform Your Health?</h3>
                    <p class="text-lg mb-6">Book your complimentary discovery session to create your personalized wellness transformation plan.</p>
                    <button onclick="bookConsultation()" class="px-8 py-3 bg-white text-purple-600 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors">
                        <i class="fas fa-calendar-alt mr-2"></i>Claim My Free Discovery Session Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Your Google Apps Script Web App URL
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbx0Ghx20qBfnV5rPUHOT99aikmsyaEnahYiductvhmB7qSE0Pf05ujG59WoqRbn0lgDsQ/exec';

        let currentQuestion = 1;
        let totalQuestions = 9;
        let answers = {};

        function selectAnswer(questionNum, value) {
            answers[questionNum] = value;
            
            // Visual feedback
            const options = document.querySelectorAll(`[data-question="${questionNum}"] .radio-option`);
            options.forEach(option => {
                const input = option.querySelector('input');
                const content = option.querySelector('.radio-content');
                if (input.value == value) {
                    input.checked = true;
                    content.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                    content.style.color = 'white';
                } else {
                    input.checked = false;
                    content.style.background = '';
                    content.style.color = '';
                }
            });

            // Auto-advance after selection
            setTimeout(() => {
                if (currentQuestion < 8) {
                    nextQuestion();
                } else if (currentQuestion === 8) {
                    nextQuestion(); // Go to email form
                }
            }, 500);
        }

        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('hidden');
                currentQuestion++;
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('hidden');
                updateProgress();
                updateButtons();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 1) {
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('hidden');
                currentQuestion--;
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('hidden');
                updateProgress();
                updateButtons();
            }
        }

        function updateProgress() {
            const progressPercentage = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progressPercentage + '%';
            if (currentQuestion <= 8) {
                document.getElementById('progressText').textContent = `Question ${currentQuestion} of 8`;
            } else {
                document.getElementById('progressText').textContent = `Final Step - Get Your Results`;
            }
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            // Show/hide previous button
            if (currentQuestion === 1) {
                prevBtn.classList.add('hidden');
            } else {
                prevBtn.classList.remove('hidden');
            }

            // Show/hide next vs submit button
            if (currentQuestion === 9) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }

        function submitAssessment() {
            // Validate email form
            const fullName = document.getElementById('fullName').value.trim();
            const emailAddress = document.getElementById('emailAddress').value.trim();
            const emailConsent = document.getElementById('emailConsent').checked;
            
            if (!fullName || !emailAddress || !emailConsent) {
                alert('Please fill in all required fields and agree to receive your wellness plan.');
                return;
            }
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(emailAddress)) {
                alert('Please enter a valid email address.');
                return;
            }
            
            // Get additional form data
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            const healthConcern = document.getElementById('healthConcern').value.trim();
            
            // Send to Google Sheets
            submitToGoogleSheets(fullName, emailAddress, phoneNumber);
            
            // Calculate and show results
            calculateAndShowResults({
                fullName,
                emailAddress,
                phoneNumber,
                healthConcern,
                answers
            });
        }

        function submitToGoogleSheets(name, email, phone) {
            // Calculate total score
            let totalScore = 0;
            for (let i = 1; i <= 8; i++) {
                totalScore += answers[i] || 0;
            }

            const data = {
                name: name,
                email: email,
                phone: phone || '',
                totalScore: totalScore,
                energyScore: answers[1] || 0,
                sleepScore: answers[2] || 0,
                stressScore: answers[3] || 0
            };
            
            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            })
            .then(response => response.text())
            .then(result => {
                console.log('Data sent to Google Sheets successfully');
            })
            .catch(error => {
                console.error('Error sending to Google Sheets:', error);
            });
        }

        function calculateAndShowResults(userData) {
            // Calculate total score
            let totalScore = 0;
            for (let i = 1; i <= 8; i++) {
                totalScore += answers[i] || 0;
            }

            // Hide assessment form and show results
            document.getElementById('assessmentForm').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');

            // Display score
            document.getElementById('totalScore').textContent = totalScore;

            // Determine score level and description
            let scoreLevel, scoreDescription;
            if (totalScore <= 20) {
                scoreLevel = "Needs Immediate Attention";
                scoreDescription = "Your results indicate significant opportunities for improvement. Let's create a personalized transformation plan!";
            } else if (totalScore <= 35) {
                scoreLevel = "Room for Growth";
                scoreDescription = "You're on the right track, but there's tremendous potential for optimization. Small changes can yield big results!";
            } else if (totalScore <= 50) {
                scoreLevel = "Good Foundation";
                scoreDescription = "You have solid wellness habits! Let's fine-tune your approach and take your health to the next level.";
            } else {
                scoreLevel = "Excellent Wellness";
                scoreDescription = "Outstanding! You have strong wellness practices. Let's help you achieve peak performance and maintain this excellence.";
            }

            document.getElementById('scoreLevel').textContent = scoreLevel;
            document.getElementById('scoreDescription').textContent = scoreDescription;

            // Generate category breakdown and opportunities
            generateCategoryBreakdown();
            generateOpportunities();

            // Show thank you message
            setTimeout(() => {
                alert(`Thank you ${userData.fullName}! Your personalized wellness plan has been sent to ${userData.emailAddress}. Check your inbox (and spam folder) in the next few minutes.`);
            }, 1000);
        }

        function generateCategoryBreakdown() {
            const categories = [
                { name: 'Energy Levels', value: answers[1] || 0, icon: 'fas fa-bolt', max: 8 },
                { name: 'Sleep Quality', value: answers[2] || 0, icon: 'fas fa-bed', max: 8 },
                { name: 'Stress Management', value: answers[3] || 0, icon: 'fas fa-brain', max: 8 },
                { name: 'Physical Health', value: answers[4] || 0, icon: 'fas fa-heartbeat', max: 8 },
                { name: 'Mental Wellbeing', value: answers[5] || 0, icon: 'fas fa-smile', max: 8 },
                { name: 'Weight Satisfaction', value: answers[6] || 0, icon: 'fas fa-weight', max: 8 },
                { name: 'Exercise Frequency', value: answers[7] || 0, icon: 'fas fa-running', max: 8 },
                { name: 'Overall Health', value: answers[8] || 0, icon: 'fas fa-heart', max: 8 }
            ];
            
            const breakdown = document.getElementById('categoryBreakdown');
            breakdown.innerHTML = '';
            
            categories.forEach(category => {
                const percentage = (category.value / category.max) * 100;
                let colorClass = percentage >= 80 ? 'text-green-600' : percentage >= 60 ? 'text-blue-600' : percentage >= 40 ? 'text-yellow-600' : 'text-red-600';
                
                breakdown.innerHTML += `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="${category.icon} ${colorClass} mr-2"></i>
                            <span class="text-sm">${category.name}</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-16 bg-gray-200 rounded-full h-2 mr-2">
                                <div class="h-2 rounded-full ${colorClass.replace('text-', 'bg-')}" style="width: ${percentage}%"></div>
                            </div>
                            <span class="text-sm font-semibold">${category.value}/${category.max}</span>
                        </div>
                    </div>
                `;
            });
        }

        function generateOpportunities() {
            const categories = [
                { name: 'Energy Levels', value: answers[1] || 0, tip: 'Optimize your morning routine and nutrient timing' },
                { name: 'Sleep Quality', value: answers[2] || 0, tip: 'Develop a consistent sleep hygiene protocol' },
                { name: 'Stress Management', value: answers[3] || 0, tip: 'Learn evidence-based stress reduction techniques' },
                { name: 'Physical Health', value: answers[4] || 0, tip: 'Address underlying inflammation and nutrient deficiencies' },
                { name: 'Mental Wellbeing', value: answers[5] || 0, tip: 'Implement daily mindfulness and emotional regulation practices' },
                { name: 'Weight Management', value: answers[6] || 0, tip: 'Create a sustainable, personalized nutrition plan' },
                { name: 'Exercise Habits', value: answers[7] || 0, tip: 'Design an enjoyable, progressive fitness routine' },
                { name: 'Overall Vitality', value: answers[8] || 0, tip: 'Integrate all health pillars for maximum synergy' }
            ];
            
            // Sort by lowest scores (biggest opportunities)
            categories.sort((a, b) => a.value - b.value);
            
            const opportunities = document.getElementById('opportunities');
            opportunities.innerHTML = '';
            
            // Show top 4 opportunities
            categories.slice(0, 4).forEach((category, index) => {
                opportunities.innerHTML += `
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-6 h-6 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 mt-1">
                            ${index + 1}
                        </div>
                        <div>
                            <div class="font-semibold text-gray-800">${category.name}</div>
                            <div class="text-sm text-gray-600">${category.tip}</div>
                        </div>
                    </div>
                `;
            });
        }

        function bookConsultation() {
            alert('Redirecting to booking calendar...\n\nIn your actual implementation, this would link to your booking system or contact information.');
            // Example: window.open('https://calendly.com/yourusername/discovery-session', '_blank');
        }
    </script>
</body>
</html>
